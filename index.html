<!DOCTYPE html>
<html>
<head>
<title>ðŸ”¥ Drake AI</title>
</head>
<body style="background:black;color:white;text-align:center;font-family:Arial;">

<h1>ðŸ”¥ Drake Voice Assistant</h1>

<button onclick="startListening()" style="padding:15px;font-size:20px;">
ðŸŽ¤ Start Listening
</button>

<p id="output"></p>

<audio id="player" controls style="margin-top:20px;width:300px;"></audio>

<script>

const API_KEY = "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";

async function startListening() {

    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = "en-US";
    recognition.start();

    document.getElementById("output").innerText = "Listening...";

    recognition.onresult = async function(event) {
        const text = event.results[0][0].transcript;
        document.getElementById("output").innerText = "You: " + text;

        if(text.toLowerCase().startsWith("play")) {
            playSong(text.replace("play","").trim());
        } else {
            askAI(text);
        }
    };
}

async function askAI(text){

    const res = await fetch("https://openrouter.ai/api/v1/chat/completions", {
        method: "POST",
        headers: {
            "Authorization": "Bearer " + API_KEY,
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            model: "liquid/lfm-2.5-1.2b-thinking:free",
            messages: [
                {role:"system", content:"You are Drake AI assistant. Reply short."},
                {role:"user", content:text}
            ]
        })
    });

    const data = await res.json();
    const reply = data.choices[0].message.content;

    document.getElementById("output").innerText = "Drake: " + reply;
    speak(reply);
}

function speak(text){
    const speech = new SpeechSynthesisUtterance(text);
    window.speechSynthesis.speak(speech);
}

function playSong(songName){

    document.getElementById("output").innerText = "Searching: " + songName;

    const query = encodeURIComponent(songName + " song");
    const youtubeUrl = "https://www.youtube.com/results?search_query=" + query;

    window.open(youtubeUrl, "_blank");

    document.getElementById("output").innerText = "Opened YouTube for: " + songName;
}

</script>

</body>
</html>

